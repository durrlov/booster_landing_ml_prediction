<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Landing Outcome Prediction</title>

  <!-- Bootstrap & Custom Styles -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Header -->
  <header class="header">
    <div class="top-right-buttons">
      <a href="/" class="nav-button">Home</a>
      <a href="/predictdata" class="nav-button">Try the Predictor</a>
      <a href="https://github.com/durrlov/booster_landing_ml_prediction" class="nav-button" target="_blank">View GitHub Project</a>
    </div>
  </header>

  <!-- Form Container -->
  <div class="container-sm offset-header">
    <div class="card shadow p-4 mb-5 bg-white rounded">
      <h1 class="text-center mb-4">Landing Outcome Prediction</h1>
      <p class="text-center text-muted mb-4">Enter the parameters of your Rocket to <strong>PREDICT!!!</strong> it's landing outcome</p>

    <!-- Prediction Result -->
    {% if results %}
      <div class="alert alert-success text-center mt-4">
        <h2>The Landing is gonna be a {{ results }}</h2>
      </div>
    {% endif %}
  </div>

      <form action="{{ url_for('predict_datapoint') }}" method="post">
        <h4>Mission Details</h4>

        <!-- Flight Number -->
        <div class="mb-3">
          <label for="FlightNumber" class="form-label">Flight Number</label>
          <input type="number" class="form-control" id="FlightNumber" name="FlightNumber" required 
          min="0" max="200" placeholder="Enter a number between 0 to 200">
        </div>

        <!-- Date -->
        <div class="mb-3">
          <label for="Date" class="form-label">Date</label>
          <input type="date" class="form-control" id="Date" name="Date" required min="2010-01-01" max="2030-12-31">
        </div>

        <!-- Booster Version -->
        <div class="mb-3">
          <label for="BoosterVersion" class="form-label">Booster Version</label>
          <select class="form-control" id="BoosterVersion" name="BoosterVersion" required>
            <option selected disabled value="">Select</option>
            <option value="Falcon 9">Falcon 9</option>
          </select>
        </div>

        <!-- Payload Mass -->
        <div class="mb-3">
          <label for="PayloadMass" class="form-label">Payload Mass (kg)</label>
          <input type="number" class="form-control" id="PayloadMass" name="PayloadMass" required min="5000" max="20000" placeholder="Enter a number between 5000 to 20000">
        </div>

        <!-- Orbit -->
        <div class="mb-3">
          <label for="Orbit" class="form-label">Orbit</label>
          <select class="form-control" id="Orbit" name="Orbit" required>
            <option selected disabled value="">Select</option>
            <option value="VLEO">Very Low Earth Orbit</option>
            <option value="ISS">International Space Station orbit</option>
            <option value="GTO">Geostationary Transfer Orbit</option>
            <option value="LEO">Low Earth Orbit</option>
            <option value="PO">Polar Orbit</option>
            <option value="SSO">Sun-Synchronous Orbit</option>
            <option value="MEO">Medium Earth Orbit</option>
            <option value="GEO">Geostationary Orbit</option>
            <option value="TLI">Trans-Lunar Injection</option>
            <option value="ES-L1">Earth-Sun Lagrange Point 1</option>
            <option value="HEO">Highly Elliptical Orbit</option>
            <option value="SO">Sub-Orbital trajectory</option>
          </select>
        </div>

        <!-- Launch Site -->
        <div class="mb-3">
          <label for="LaunchSite" class="form-label">Launch Site</label>
          <select class="form-control" id="LaunchSite" name="LaunchSite" onchange="updateCoordinates()" required>
            <option selected disabled value="">Select</option>
            <option value="CCSFS SLC 40">Cape Canaveral Space Force Station, SLC 40</option>
            <option value="KSC LC 39A">Kennedy Space Center, LC 39A</option>
            <option value="VAFB SLC 4E">Vandenberg Air Force Base</option>
          </select>
        </div>

        <!-- Flights -->
        <div class="mb-3">
          <label for="Flights" class="form-label">Flights</label>
          <input type="number" class="form-control" id="Flights" name="Flights" required 
          min="1" max="20" placeholder="Enter a number between 1 to 20">
        </div>

        <h4>Hardware Configuration</h4>

        <!-- GridFins -->
        <div class="mb-3">
            <label class="form-label" for="GridFins">GridFins</label>
            <select class="form-control" id="GridFins" name="GridFins" required>
                <option class="placeholder" selected disabled value="">Select</option>
                <option value="True">True</option>
                <option value="False">False</option>
            </select>
        </div>

        <!-- Reused -->
        <div class="mb-3">
            <label class="form-label" for="Reused">Reused</label>
            <select class="form-control" id="Reused" name="Reused" required>
                <option class="placeholder" selected disabled value="">Select</option>
                <option value="True">True</option>
                <option value="False">False</option>
            </select>
        </div>


        <!-- Legs -->
        <div class="mb-3">
            <label class="form-label" for="Legs">Legs</label>
            <select class="form-control" id="Legs" name="Legs" required>
                <option class="placeholder" selected disabled value="">Select</option>
                <option value="True">True</option>
                <option value="False">False</option>
            </select>
        </div>

        <!-- LandingPad -->
        <div class="mb-3">
            <label class="form-label" for="LandingPad">Landing Pad</label>
            <select class="form-control" id="LandingPad" name="LandingPad" required>
                <option class="placeholder" selected disabled value="">Select</option>
                <option value="LZ-1">LZ-1: Landing Zone 1</option>
                <option value="OCISLY">OCISLY: Of Course I Still Love You</option>
                <option value="JRTI">JRTI: Just Read The Instructions</option>
                <option value="LZ-2">LZ-2: Landing Zone 2</option>
                <option value="LZ-4">LZ-4: Landing Zone 4</option>
                <option value="ASOG">ASOG: A Shortfall Of Gravitas</option>
            </select>
        </div>

        <!-- Block -->
        <div class="mb-3">
            <label class="form-label" for="Block">Block</label>
            <select class="form-control" id="Block" name="Block" required>
                <option class="placeholder" selected disabled value="">Select</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>
        </div>


        <!-- Reused Count -->
        <div class="mb-3">
          <label for="ReusedCount" class="form-label">Reused Count</label>
          <input type="number" class="form-control" id="ReusedCount" name="ReusedCount" required min="0" max="20" placeholder="Enter a number between 0 to 20">
        </div>

        <h4>Launch Coordinates</h4>

        <!-- Longitude -->
        <div class="mb-3">
          <label for="Longitude" class="form-label">Longitude</label>
          <input type="number" class="form-control" id="Longitude" name="Longitude" step="any" readonly required placeholder="Auto-filled by Launch Site">
        </div>

        <!-- Latitude -->
        <div class="mb-3">
          <label for="Latitude" class="form-label">Latitude</label>
          <input type="number" class="form-control" id="Latitude" name="Latitude" step="any" readonly required placeholder="Auto-filled by Launch Site">
        </div>

        <!-- Submit Button -->
        <div class="text-center mt-4">
          <input class="form-submit-button" type="submit" value="Predict">
        </div>
      </form>
    </div>


  <!-- Coordinate Autofill Script -->
  <script>
    function updateCoordinates() {
      const coordinates = {
        "CCSFS SLC 40": { lon: -80.577366, lat: 28.561857 },
        "KSC LC 39A":   { lon: -80.603956, lat: 28.608058 },
        "VAFB SLC 4E":  { lon: -120.610829, lat: 34.632093 }
      };

      const launchSiteSelect = document.getElementById('LaunchSite');
      const selectedSite = launchSiteSelect.value;

      const longitudeInput = document.getElementById('Longitude');
      const latitudeInput = document.getElementById('Latitude');

      if (coordinates[selectedSite]) {
        longitudeInput.value = coordinates[selectedSite].lon;
        latitudeInput.value = coordinates[selectedSite].lat;
      } else {
        longitudeInput.value = '';
        latitudeInput.value = '';
      }
    }
  </script>

  <!-- Footer -->
  <footer>
    &copy; 2025 S M Bakhtiar
  </footer>
</body>
</html>